{"version":3,"sources":["webpack:///webpack/bootstrap 48cae050231eebfd40ed","webpack:///./popup.js","webpack:///./pure.css","webpack:///./custom.css","webpack:///./helpers.js"],"names":["getCurrentTabUrl","callback","queryInfo","active","currentWindow","chrome","tabs","query","tab","urlInfo","url","parseURL","console","info","content","length","printTable","printEmptyMsg","injectContent","document","addEventListener","button","querySelector","evt","params","querySelectorAll","newTuples","forEach","tuple","key","dataset","value","push","update","getNewRoute","innerHTML","getSplitElement","SPLIT_IDENTIFIERS","find","identifier","includes","urlObj","QS_DIVIDER","TUPLE_DIVIDER","queryString","arrKeyValue","decodeURI","split","map","arr","tableContent","reduce","acc","index","concat","TABLE","plainUrl","qs","pathname","urlDivider","join"],"mappings":"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","file":"popup.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 48cae050231eebfd40ed","import './pure.css';\nimport './custom.css';\n\nimport helpers from './helpers';\n\n/**\n * Get the current URL.\n *\n * @param {function(string)} callback called when the URL of the current tab\n *   is found.\n */\nfunction getCurrentTabUrl(callback) {\n  // Query filter to be passed to chrome.tabs.query - see\n  // https://developer.chrome.com/extensions/tabs#method-query\n  const queryInfo = {\n    active: true,\n    currentWindow: true,\n  };\n\n  chrome.tabs.query(queryInfo, (tabs) => {\n    // chrome.tabs.query invokes the callback with a list of tabs that match the\n    // query. When the popup is opened, there is certainly a window and at least\n    // one tab, so we can safely assume that |tabs| is a non-empty array.\n    // A window can only have one active tab at a time, so the array consists of\n    // exactly one tab.\n    const tab = tabs[0];\n\n    // A tab is a plain object that provides information about the tab.\n    // See https://developer.chrome.com/extensions/tabs#type-Tab\n    const urlInfo = helpers.urlInfo(tab.url)();\n    const url = helpers.parseURL(urlInfo);\n    console.info(urlInfo);\n\n    const content = url.length ? helpers.printTable(url) : helpers.printEmptyMsg();\n    // tab.url is only available if the \"activeTab\" permission is declared.\n    // If you want to see the URL of other tabs (e.g. after removing active:true\n    // from |queryInfo|), then the \"tabs\" permission is required to see their\n    // \"url\" properties.\n    helpers.injectContent(content);\n\n    callback(urlInfo);\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  getCurrentTabUrl((urlInfo) => {\n    const button = document.querySelector('#button');\n\n    button.addEventListener('click', (evt) => {\n      const params = document.querySelectorAll('[refs=\"params\"]');\n      const newTuples = [];\n\n      params.forEach((tuple) => {\n        const { key } = tuple.dataset;\n        const { value } = tuple;\n        newTuples.push(`${key}=${value}`);\n      });\n\n      chrome.tabs.update({\n        url: helpers.getNewRoute(urlInfo, newTuples),\n      });\n    });\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./popup.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./pure.css\n// module id = 1\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./custom.css\n// module id = 2\n// module chunks = 0","function injectContent(content) {\n  document.querySelector('#container').innerHTML = content;\n}\n\nfunction getSplitElement(url) {\n  const SPLIT_IDENTIFIERS = ['?', '#'];\n\n  // TODO\n  // - Implement custom identifier\n  return SPLIT_IDENTIFIERS.find(identifier => url.includes(identifier));\n}\n\nfunction parseURL(urlObj = {}) {\n  const QS_DIVIDER = '&';\n  const TUPLE_DIVIDER = '=';\n  const { info: { queryString } } = urlObj;\n  const arrKeyValue = queryString ? decodeURI(queryString)\n    .split(QS_DIVIDER)\n    .map((tuple) => {\n      const [key, value] = tuple.split(TUPLE_DIVIDER);\n\n      return {\n        key,\n        value,\n      };\n    }) : [];\n\n  return arrKeyValue;\n}\n\nfunction printTable(arr) {\n  const tableContent = arr.reduce((acc, value, index) => acc.concat(`\n    <tr data-index=\"${index}\">\n      <td>${value.key}</td>\n      <td>\n        <input refs=\"params\" style=\"width: 100%\" data-key=\"${value.key}\" value=\"${value.value}\" type=\"textbox\">\n      </td>\n    </tr>\n  `), '');\n\n  const TABLE = `\n    <table id=\"url-parsed-table\" class=\"pure-table pure-table-striped\">\n      <thead>\n          <tr>\n            <th>Parameter</th>\n            <th>Value</th>\n          </tr>\n      </thead>\n      <tbody>\n        ${tableContent}\n      </tbody>\n    </table>\n  `;\n\n  return TABLE;\n}\n\nfunction printEmptyMsg() {\n  return '<strong>Url without query string.</strong>';\n}\n\nfunction urlInfo(plainUrl) {\n  const SPLIT_IDENTIFIERS = ['?', '#'];\n\n  // TODO\n  // - Implement custom identifier\n  const qs = SPLIT_IDENTIFIERS.find(identifier => plainUrl.includes(identifier));\n  const [pathname, queryString] = plainUrl.split(qs);\n\n  const info = {\n    url: plainUrl,\n    pathname,\n    queryString,\n    urlDivider: qs,\n  };\n\n  return () => ({\n    info,\n  });\n}\n\nfunction getNewRoute(urlObj, newTuples) {\n  return `${urlObj.info.pathname}${urlObj.info.urlDivider}${newTuples.join('&')}`;\n}\n\nexport default {\n  injectContent,\n  getSplitElement,\n  parseURL,\n  printEmptyMsg,\n  printTable,\n  getNewRoute,\n  urlInfo,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers.js"],"sourceRoot":""}